<!DOCTYPE html>
<html ng-app="wsiw">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>What Should I Watch?</title>
        <link href='http://fonts.googleapis.com/css?family=Roboto:400,100' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="css/reset.css">
        <link rel="stylesheet" href="css/style.css">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><!-- load jquery -->
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script><!-- load angular -->
        <script src="core.js"></script>
    </head>
    <body ng-controller="mainController" ng-style="bodyBackground">
        <div id="overlay" ng-show=showOverlay"></div>
        <img src="images/loading.gif" class="hidden" id="loading_image" alt="Loading">
        <div class="content">
            <button id="wsiw_button" ng-click="getMovies()" ng-hide="movie">WHAT SHOULD I WATCH?</button>
            <div id="info_container" ng-show="movie">
                <div id="info_container_left">
                    <img id="poster" src="{{ movie.images.poster }}" alt="Movie poster">
                </div>
                <div id="info_container_right">
                    <div id="summary">
                        <span id="year">{{ movie.year }}</span> |
                        <span id="runtime">{{ movie.runtime }}</span> |
                        <span id="genres"><span class="genre" ng-repeat="genre in movie.genres">{{ genre }}</span></span> 
                        <div id="summary_right">
                            <img class="ratings_icon" src="images/imdb.png" alt="imdb">&nbsp;<span id="imdb_rating"></span>&nbsp;
                            <img class="ratings_icon" src="images/rt.png" alt="rotten tomatoes">&nbsp;<span id="rt_rating"></span>    
                        </div>
                        <span class="clearfix"></span>
                    </div>
                    <a href="{{ movie.url }}" id="movieurl" target="_blank"><h1 id="title">{{ movie.title }}</h1></a>
                    <span id="overview">{{ movie.overview }}</span>
                </div>
            </div>
        </div>
        <a id="what_is_this" ng-hide="movie" href="#" ng-click="showAbout = true; showOverlay = true">What is this?</a>
        <div id="about" class="popup" ng-show="showAbout">
            <img src="images/x.svg" class="close_button" alt="Close popup" ng-click="showAbout = false; showOverlay = false">
            <p>This site intends to help you find a movie to watch! It is powered by <a href="http://trakt.tv" target="_blank">trakt.tv</a>.</p>
            <p>To begin with, select a source at the bottom. There are three alternatives:</p>
            <dl>
                <dt>Trending</dt>
                <dd>Trending movies.</dd>
                <dt>Watchlist</dt>
                <dd>The selected user's watchlist. Only works if it is not private.</dd>
                <dt>Colletion</dt>
                <dd>The selected user's collection. Only works if it is not private. This may take a long time if the collection is big.</dd>
            </dl>
            <p>After you have selected a source, simply press the big button and you will be presented with a movie. Simple!</p>
            <p>The site was made by <a href="http://trakt.tv/user/iamhj" target="_blank">iamhj</a> and is fully available on <a href="http://github.com/iamhj/wsiw" target="_blank">GitHub</a>.</p>
        </div>
        <p id="not_happy" class="hidden">Not happy? <a href="#" id="another" ng-click="chooseMovie()">Pick a new one</a> or <a href="#" id="new_source">choose another source</a>.</p>
        <div id="source_selector" ng-hide="movie">
            <img src="images/x.svg" class="close_button hidden" alt="Close popup">
            <p class="source_error hidden">We couldn't find that list! Perhaps the user doesn't exist, or is private.</p>
            <span class="sources_label">Source:</span>
            <ul id="sources">
                <li class="source"><input type="radio" id="s_trending" value="trending" name="source" ng-checked="true" ng-model="source"><label for="s_trending">Trending</label></li>
                <li class="source"><input type="radio" id="s_watchlist" value="watchlist" name="source" ng-model="source"><input type="text" class="trakt_user" placeholder="iamhj" ng-model="wl_user"><label for="s_watchlist">'s watchlist</label></li>
                <li class="source"><input type="radio" id="s_collection" value="collection" name="source" ng-model="source"><input type="text" class="trakt_user" placeholder="iamhj" ng-model="c_user"><label for="s_collection">'s collection </label></li>
            </ul>
            <button id="select_source_button" class="hidden">Select source</button>
        </div>
    </body>
</html>

